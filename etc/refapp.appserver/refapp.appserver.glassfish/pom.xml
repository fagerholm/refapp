<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
	<modelVersion>4.0.0</modelVersion>
	
	<parent>
		<groupId>com.teoware.refapp</groupId>
		<artifactId>refapp.appserver</artifactId>
		<version>0.0.1-SNAPSHOT</version>
	</parent>
	
	<artifactId>refapp.appserver.glassfish</artifactId>
	<packaging>pom</packaging>
	<name>rafapp.appserver.glassfish</name>
	<description>Glassfish appserver control</description>
	
	<!-- PROPERTIES -->
	<properties>
		<!-- Env -->
		<user.home>${env.HOME}</user.home>
		
		<!-- Glassfish -->
		<glassfish.home>${env.GLASSFISH_HOME}</glassfish.home>
		<glassfish.domain>domain1</glassfish.domain>
		<glassfish.host>localhost</glassfish.host>
		<glassfish.httpPort>8080</glassfish.httpPort>
		<glassfish.adminPort>4848</glassfish.adminPort>
		<glassfish.username>admin</glassfish.username>
		<glassfish.passwordfile.path>${user.home}</glassfish.passwordfile.path>
		<glassfish.passwordfile.name>.asadmintruststore</glassfish.passwordfile.name>
		<glassfish.passwordfile>${glassfish.passwordfile.path}/${glassfish.passwordfile.name}</glassfish.passwordfile>
		
		<!-- Deployment -->
		<glassfish.deploy.name>refapp</glassfish.deploy.name>
		<glassfish.deploy.archive.path>../../code/refapp.ear/target</glassfish.deploy.archive.path>
		<glassfish.deploy.archive.name>refapp.ear-0.0.1-SNAPSHOT.ear</glassfish.deploy.archive.name>
		<glassfish.deploy.archive>${glassfish.deploy.archive.path}/${glassfish.deploy.archive.name}</glassfish.deploy.archive>
		<glassfish.deploy.contextroot>refapp</glassfish.deploy.contextroot>
		
		<!-- Derby database settings -->
		<derby.database.name>refapp</derby.database.name>
		<derby.server.name>localhost</derby.server.name>
		<derby.server.port>1527</derby.server.port>
		<derby.username>refapp</derby.username>
		<derby.password>abcd1234</derby.password>
		<derby.connection.attributes>;create\=true</derby.connection.attributes>
		<derby.connectionpool.name>RefappDerbyPool</derby.connectionpool.name>
		<derby.connectionpool.datasource>org.apache.derby.jdbc.ClientDataSource</derby.connectionpool.datasource>
		<derby.connectionpool.resource.type>javax.sql.DataSource</derby.connectionpool.resource.type>
		<derby.jdbc.resource.name>jdbc/refapp</derby.jdbc.resource.name>
	</properties>
	
	<!-- REPOSITORIES -->
	<repositories>
	</repositories>
	
	<!-- PLUGIN REPOSITORIES -->
	<pluginRepositories>
	</pluginRepositories>
	
	<!-- DEPENDENCIES -->
	<dependencies>
	</dependencies>
	
	<build>
		<plugins>
			<plugin>
				<groupId>org.apache.maven.plugins</groupId>
				<artifactId>maven-clean-plugin</artifactId>
			</plugin>
			
			<plugin>
				<groupId>org.apache.maven.plugins</groupId>
				<artifactId>maven-compiler-plugin</artifactId>
			</plugin>
			
			<plugin>
				<groupId>org.glassfish.maven.plugin</groupId>
				<artifactId>maven-glassfish-plugin</artifactId>
				<configuration>
					<user>${glassfish.username}</user>
					<passFile>${glassfish.passwordfile}</passFile>
					<domain>
						<name>${glassfish.domain}</name>
						<httpPort>${glassfish.httpPort}</httpPort>
						<adminPort>${glassfish.adminPort}</adminPort>
					</domain>
					
					<skip>false</skip>
				</configuration>
			</plugin>
			
			<plugin>
				<groupId>org.codeartisans.asadmin</groupId>
				<artifactId>asadmin-maven-plugin</artifactId>
				<configuration>
					<glassfishHome>${glassfish.home}</glassfishHome>
					<domain>${glassfish.domain}</domain>
					<host>${glassfish.host}</host>
					<port>${glassfish.adminPort}</port>
					<user>${glassfish.username}</user>
					<passwordfile>${glassfish.passwordfile}</passwordfile>
					
					<!-- Deployment -->
					<appName>${glassfish.deploy.name}</appName>
					<appArchive>${glassfish.deploy.archive}</appArchive>
					<contextRoot>${glassfish.deploy.contextroot}</contextRoot>
					
					<!-- JDBC connection pool -->
					<poolName>${derby.connectionpool.name}</poolName>
					<poolDataSource>${derby.connectionpool.datasource}</poolDataSource>
					<restype>${derby.connectionpool.resource.type}</restype>
					<poolProperties>
						<User>${derby.username}</User>
						<Password>${derby.password}</Password>
						<DatabaseName>${derby.database.name}</DatabaseName>
						<ServerName>${derby.server.name}</ServerName>
						<PortNumber>${derby.server.port}</PortNumber>
						<connectionAttributes>${derby.connection.attributes}</connectionAttributes>
					</poolProperties>
					
					<!-- JDBC resource -->
					<resourceName>${derby.jdbc.resource.name}</resourceName>
					
					<skip>false</skip>
				</configuration>
			</plugin>
		</plugins>
	</build>
</project>